<!DOCTYPE html>
<html lang="vi">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROFILE CỦA TÔI - Minh GM</title>
    <link rel="stylesheet" href="profile.css">
    <script>
        // BƯỚC 1: BIẾN PHIÊN BẢN (VERSION)
        const CACHE_VERSION = "0.0.4"; 

        // BƯỚC 2: HÀM PHÁ CACHE
        function applyCacheBusting() {
            // Phá Cache cho CSS
            document.querySelectorAll('link[rel="stylesheet"]').forEach(link => {
                link.href = link.href.split('?')[0] + '?v=' + CACHE_VERSION;
            });

            // Phá Cache cho JS
            document.querySelectorAll('script[src]').forEach(script => {
                script.src = script.src.split('?')[0] + '?v=' + CACHE_VERSION;
            });
        }

        // Chạy hàm ngay khi trang tải xong
        window.onload = applyCacheBusting;
    </script>
</head>
<body>

    <button id="mode-toggle" class="mode-toggle-btn">Chuyển sang Dark Mode 🌙</button>
    <div class="score-display">
        🌟 Sao đã thu thập: <span id="star-count">0</span>
    </div>
    <div class="profile-layout">
        <div class="grid-overlay"></div>
        <header class="main-header">
            <img src="avatar.jpg" alt="Avatar" class="avatar">
            <h1>Minh GM</h1>
            <p class="tagline" id="typewriter-tagline">"Thánh Diệt BUG · Kẻ Phá Giới Hạn · Trùm Giải Thuật Toán"</p>
        </header>

        <div class="content-sections">
            <section class="info">
                <section class="section-container">
                    <h2>Ngôn ngữ đã học</h2>
                    <div class="skills-list">
                        <div class="skill-item" id="python-skill-bar" onclick="openPythonChallenge()">
                            <span class="skill-name">Python</span>
                            <div class="skill-bar-container">
                                <div class="skill-bar" data-level="70"></div>
                            </div>
                            <span class="skill-percentage">70%</span>
                        </div>

                        <div class="skill-item">
                            <span class="skill-name">JavaScript</span>
                            <div class="skill-bar-container">
                                <div class="skill-bar" data-level="50"></div>
                            </div>
                            <span class="skill-percentage">50%</span>
                        </div>

                        <div class="skill-item" id="cpp-skill-bar" onclick="openCppChallenge()">
                            <span class="skill-name">C++</span>
                            <div class="skill-bar-container">
                                <div class="skill-bar" data-level="95"></div>
                            </div>
                            <span class="skill-percentage">95%</span>
                        </div>

                        <div class="skill-item">
                            <span class="skill-name">Scratch</span>
                            <div class="skill-bar-container">
                                <div class="skill-bar" data-level="85"></div>
                            </div>
                            <span class="skill-percentage">85%</span>
                        </div>
                    </div>
                </section>
            </section>
            <section class="section-container project-log-section">
                <h2>📁 Nhật ký Dự án</h2>
                <pre class="project-log" id="project-terminal-log">
> Initiating ProjectLog.exe...
[INFO] System Status: ONLINE
[1] Web Profile - Personal ID Matrix. (Status: ONLINE)
[2] Game Clicker - High-speed transaction simulation. (Status: ARCHIVED)
[3] Web Troll - Automated security testing tool. (Status: ONLINE)
[SUCCESS] Log execution complete. Waiting for command.
                </pre>
            </section>

            <section class="info contact-section">
                <h2>Liên hệ</h2>
                <ul>
                    <li>Email: <strong>minhgm123@gmmail.com</strong></li>
                    <li>Hotline: <strong>0987.654.321</strong></li>
                </ul>
            </section>
        </div>

    </div>
    <div class="glitch-overlay"></div>
    <script src="profile.js"></script>
    <audio id="audio-boot" src="sfx_boot.mp3" preload="auto"></audio>
    <audio id="audio-typing" src="sfx_typing.mp3" preload="auto"></audio>
    <audio id="audio-confirm" src="sfx_confirm.mp3" preload="auto"></audio>
    <div class="static-noise-overlay"></div>
    <div class="scanline-overlay"></div>
    <div id="cpp-modal" class="modal-challenge">
        <div id="cpp-modal-content" class="modal-content">
            <span class="close-btn" onclick="closeCppChallenge()">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="15" y1="9" x2="9" y2="15"></line>
                    <line x1="9" y1="9" x2="15" y2="15"></line>
                </svg>
            </span>

            <header class="challenge-header">
                <span class="trophy-icon">🏆</span>
                <h2>Thử Thách C++ Cấp Cao</h2>
                <p>Kiểm tra sự tinh tế bạn dành cho logic C++</p>
            </header>

            <div class="code-area-container">
                <div class="code-header">#cpp</div>
                <pre id="challenge-code" class="code-snippet">
// Hệ thống đang tải thử thách...
// Vui lòng chờ 1s...
            </pre>
            </div>

            <div class="interaction-area">
                <p class="question-text">Nhập kết quả cuối cùng là bao nhiêu:</p>
                <div class="input-group">
                    <input type="text" id="challenge-answer-input" placeholder="Nhập câu trả lời của bạn..." required>
                    <button id="run-code-btn" class="action-btn run-btn" onclick="checkCppAnswer()">Chạy Code</button>
                </div>

                <button id="next-challenge-btn" class="action-btn next-btn">Thử Thách Khác</button>

                <p id="challenge-result" class="result-message">
                    Kết quả sẽ hiển thị ở đây.
                </p>
            </div>

            <footer class="challenge-footer">
                <small>*Powered by C++ & WebAssembly (Wasm)</small>
            </footer>

        </div>
    </div>
    <div id="python-modal" class="modal-challenge"> 
    <div id="python-modal-content" class="modal-content">
        <span class="close-btn" onclick="closePythonChallenge()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x-circle">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="15" y1="9" x2="9" y2="15"></line>
                <line x1="9" y1="9" x2="15" y2="15"></line>
            </svg>
        </span>

        <header class="challenge-header">
            <span class="trophy-icon">🐍</span> <h2>Thử Thách Pythonic Cấp Cao</h2>
            <p id="python-challenge-title">Kiểm tra tư duy Tối ưu hóa Code của bạn</p> </header>

        <div class="code-area-container">
            <div class="code-header">#python</div>
            <pre id="python-code-snippet" class="code-snippet">
</pre>
        </div>
        <div class="interaction-area">
            <p class="question-text">Viết lại đoạn code trên thành 1 dòng "Pythonic" (hoặc tối ưu) nhất:</p>
            <div class="input-group">
                <input type="text" id="python-input" placeholder="Nhập code của bạn..." required>
                <button id="run-python-btn" class="action-btn run-btn" onclick="checkPythonAnswer()">Kiểm Tra & Thu Sao</button>
            </div>

            <button id="python-next-challenge-btn" class="action-btn next-btn" style="display:none;">Thử Thách Khác</button>

            <p id="python-challenge-result" class="result-message">
                Kết quả kiểm tra sẽ hiển thị ở đây.
            </p>
        </div>

        <footer class="challenge-footer">
            <small>*Python Logic Check (Powered by JS)</small>
        </footer>
    </div>
</div>
</body>
</html>